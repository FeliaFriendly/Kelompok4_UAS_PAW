"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[297],{297:(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const n={data:function(){return{videos:[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){i(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},(0,s(629).Se)({isLoggedIn:"isLoggedIn",user:"user"})),created:function(){var t=this;this.axios.get("http://sosmed-vue.herokuapp.com/api/videos/").then((function(e){t.videos=e.data.data})).catch((function(e){return t.$swal("Terjadi Kesalahan")}))},methods:{deleteVideo:function(t){var e=this;this.axios.delete("http://sosmed-vue.herokuapp.com/api/videos/".concat(t)).then((function(s){e.$swal("Berhasil Menghapus Video");var a=e.videos.map((function(t){return t.id})).indexOf(t);e.videos.splice(a,1)})).catch((function(t){return e.$swal("Terjadi Kesalahan")}))},viewsVideo:function(t){var e=this;this.axios.post("http://sosmed-vue.herokuapp.com/api/videos/views/".concat(t)).then((function(t){return e.axios.get("http://sosmed-vue.herokuapp.com/api/videos/")})).then((function(t){e.videos=t.data.data})).catch((function(t){return e.$swal("Terjadi Kesalahan")}))}}};const r=(0,s(1900).Z)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",{staticClass:"text-center"},[t._v("Short Videos")]),t._v(" "),s("router-link",{staticClass:"btn float-right mb-5 btn-success",attrs:{to:{name:"createVideo"}}},[t._v("Upload Video")]),t._v(" "),s("div",{staticClass:"row"},t._l(t.videos,(function(e){return s("div",{key:e.id,staticClass:"col-md-6"},[s("div",{staticClass:"card mb-4"},[s("video",{staticClass:"mx-auto d-block",staticStyle:{height:"15rem",width:"-webkit-fill-available"},attrs:{controls:""},on:{playing:function(s){return t.viewsVideo(e.id)}}},[s("source",{attrs:{src:e.video,type:"video/mp4"}}),t._v("\n                    Your browser does not support the video tag.\n                ")]),t._v(" "),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v(t._s(e.user.name))]),t._v(" "),s("p",{staticClass:"card-text"},[t._v(t._s(e.description))]),t._v(" "),s("p",{staticClass:"card-text"},[s("small",{staticClass:"text-muted"},[t._v(t._s(e.views)+" views this video")])]),t._v(" "),s("p",{staticClass:"card-text"},[s("small",{staticClass:"text-muted"},[t._v("Posted at "+t._s(new Date(e.created_at).getDate()+"-"+(new Date(e.created_at).getMonth()+1)+"-"+new Date(e.created_at).getFullYear()))])]),t._v(" "),t.isLoggedIn?[s("button",{staticClass:"btn btn-danger",on:{click:function(s){return t.deleteVideo(e.id)}}},[t._v("Delete")]),t._v(" "),s("router-link",{staticClass:"btn btn-success",attrs:{to:{name:"editVideo",params:{id:e.id}}}},[t._v("Edit")])]:t._e()],2)])])})),0)],1)}),[],!1,null,null,null).exports}}]);